---
layout: default
title: NW-Router
parent: Linux
tags:
- linux
---

### 라우터(Router)
---
> 라우터(Router)는 네트워크 내에서 통신을 원활하게 하는 것이 주된 목적인 네트워크 장치이다. 라우터의 각 인터페이스를 기준으로 네트워크 경계(network boundary)가 형성된다.

- 라우터는 OSI 7계층 모델의 Layer 3에서 작동하므로 Layer 3 헤더까지의 각 데이터 그램만 확인한다.
- Layer 3 헤더에는 End-To-End 전달을 가능하게 하는 소스/목적지 IP 주소가 포함되어 있다.
- 라우터는 통신 및 패킷 전송을 위해 라우팅 테이블(Routing Table)을 참조한다.

### 라우팅 테이블(Routing Table)
---
> 각각의 라우터 입장에서 라우팅 테이블은 존재하는 모든 네트워크에 대한 지도와 같다. 따라서, 수신한 패킷의 목적지를 라우팅 테이블에서 식별할 수 없다면 그 네트워크는 없는 곳으로 판단하여 패킷을 폐기한다(Discard). Layer 2의 스위치가 MAC Address Table을 참조한 뒤 목적지 주소를 식별할 수 없을 때 취하는 플러딩(Flood)과는 차이가 있는 부분이다.


### Address Resolution Protocol(ARP)
---
> Layer 2의 주소 스키마가 MAC Address 로 구성되어 있다면, Layer 3의 주소 스키마는 IP Address로 구성되어 있다. ARP는 L2, L3의 주소 스키마를 연결해주는 다리 역할을 한다. 

- 일반적으로 두 호스트(Host)가 서로 통신할 때는 이미 서로의 IP 주소를 알고 있다. 유저가 수동으로 제공해줬던지, DNS와 같은 다른 프로토콜을 통해서도 알아낼 수 있다. 그러나 서로의 MAC 주소까지 알고 있는 상황은 아니다. 

- 서로의 적절한 MAC 주소를 확인하기 위해 ARP를 사용한다. 다시 말하면, ARP는 이미 알고 있는 IP 주소를 이용하여 현재 모르는 MAC 주소를 식별하는 방식이다. 확인된 MAC 주소는 ARP 테이블에 추가되며, IP 주소 <-> MAC 주소 간의 매핑 정보로 기록된다.


### Case 1: 동일 네트워크 내의 호스트 간의 ARP
---
(작성 중)

### Case 2: 서로 다른 네트워크에 위치한 호스트간의 ARP
---
(작성 중)
